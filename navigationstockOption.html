<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Inc - AI-Powered Market Insights & Predictions</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb;
        }
        
        .sidebar-item {
            margin-bottom: 10px;
        }
        
        .sidebar-divider {
            height: 1px;
            margin: 10px 0;
        }
        
        /* Fix for main content display */
        .content-container {
            display: flex;
            width: 100%;
        }
        
        .sidebar {
            flex: 0 0 25%;
            max-width: 25%;
            height: 600px;
        }
        
        .main-content {
            flex: 1;
        }
            body {
              font-family: 'Inter', sans-serif;
            }
            
            /* Custom scrollbar */
            .custom-scrollbar::-webkit-scrollbar {
              width: 8px;
              height: 8px;
            }
            
            .custom-scrollbar::-webkit-scrollbar-track {
              background: #f1f5f9;
              border-radius: 8px;
            }
            
            .custom-scrollbar::-webkit-scrollbar-thumb {
              background: #94a3b8;
              border-radius: 8px;
            }
            
            .custom-scrollbar::-webkit-scrollbar-thumb:hover {
              background: #64748b;
            }
            
            /* Animation */
            .animate-fade-in {
              animation: fadeIn 0.5s ease-in-out;
            }
            
            @keyframes fadeIn {
              from { opacity: 0; }
              to { opacity: 1; }
            }
            
            /* Card hover effect */
            .card-hover {
              transition: transform 0.2s, box-shadow 0.2s;
            }
            
            .card-hover:hover {
              transform: translateY(-4px);
              box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            }
          </style>
</head>

<body>
    <header class="relative top-0 left-0 w-full py-4 z-50">
        <!-- Navigation Bar -->
        <nav class="top-10 bg-black w-full max-w-5xl mx-auto flex items-center justify-between py-3 px-8 rounded-lg shadow-md">
            <!-- Logo Section -->
            <div class="flex items-center space-x-2">
                <img src="https://iconape.com/wp-content/png_logo_vector/kwap-malaysia-logo.png" alt="Logo" class="w-15 h-8">
                <span class="text-lg font-bold text-white">AIvestor</span>
            </div>

             <!-- Navigation Links -->
             <div class="flex items-center space-x-8 text-sm font-medium text-gray-300">
              <a href="homepage.html" class="hover:text-white no-underline text-gray-300">Home</a>
              <a href="navigationOverview.html" class="hover:text-white no-underline text-gray-300">Stock</a>
              <a href="errorpage.html" class="hover:text-white no-underline text-gray-300">News</a>
          </div>

            <!-- Stock Search Form -->
            <div class="relative">
                <form id="stockSearchForm" class="flex items-center bg-gray-800 border border-gray-700 rounded-xl px-4 py-3 shadow-lg transition-all duration-200 focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500">
                    <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    <input id="stockSearch" name="symbol" type="text" placeholder="Search for symbol or company..." autocomplete="off" class="bg-transparent outline-none text-sm text-white placeholder-gray-400 w-full ml-3 focus:ring-0">
                    <div id="loadingSpinner" class="hidden">
                        <svg class="animate-spin h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                    </div>
                </form>

                <div id="searchResults" class="hidden absolute mt-2 w-full bg-gray-800 border border-gray-700 rounded-xl shadow-xl z-50 overflow-hidden transition-all duration-200 transform origin-top">
                    <!-- Results will be populated here -->
                </div>
            </div>
        </nav>
    </header>

    <main class="mt-10 w-full px-8">
        <!-- Stock Detail Layout Container -->
        <div class="max-w-7xl mx-auto content-container">
           <!-- Sidebar -->
           <aside class="sidebar bg-gradient-to-b from-gray-900 to-gray-700 text-white shadow-md rounded-l-lg pt-8 pb-8 pr-6 pl-6">
            <ul class="space-y-2">
                <li class="sidebar-item active flex items-center space-x-2 px-2 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="navigationOverview.html" class="nav-link text-white">
                        <i class="fas fa-users"></i>
                        <span>Overview</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
                <li class="sidebar-item flex items-center space-x-2 px-4 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="navigationFundamental.html" class="nav-link text-white">
                        <i class="fas fa-users"></i>
                        <span>Fundamental</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
                <li class="sidebar-item flex items-center space-x-2 px-4 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="errorpage.html" class="nav-link text-white">
                        <i class="far fa-newspaper"></i>
                        <span>News</span>
                        <span class="italic text-sm"><br/>*AI Powered</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
                <li class="sidebar-item flex items-center space-x-2 px-4 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="newstockprediction.html" class="nav-link text-white">
                        <i class="far fa-newspaper"></i>
                        <span>prediction</span>
                        <span class="italic text-sm"><br/>*AI Powered</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
                <li class="sidebar-item flex items-center space-x-2 px-4 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="errorpage.html" class="nav-link text-white">
                        <i class="fas fa-history"></i>
                        <span>Historical Data</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
                <li class="sidebar-item flex items-center space-x-2 px-4 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="errorpage.html" class="nav-link text-white">
                        <i class="fas fa-building"></i>
                        <span>Profile</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
                <li class="sidebar-item flex items-center space-x-2 px-4 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="errorpage.html" class="nav-link text-white">
                        <i class="fas fa-gavel"></i>
                        <span>Option</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
                <li class="sidebar-item flex items-center space-x-2 px-4 py-2 rounded-lg cursor-pointer transition-colors border border-gray-300">
                    <a href="/stockHolder/{{ symbol }}" class="nav-link text-white">
                        <i class="fas fa-user-friends"></i>
                        <span>Holder</span>
                    </a>
                </li>
                <li class="sidebar-divider"></li>
            </ul>
        </aside>

            <!-- Main Content Section -->
            <div class="main-content bg-white border border-gray-300 rounded-r-lg shadow-md p-8 h-auto mb-8">
     <!-- TradingView Widget -->
     <div class="mb-8 bg-white rounded-lg shadow-sm border border-slate-200 p-4">
        <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget"></div>
            <script type="text/javascript">
                var widget = document.createElement('script');
                widget.type = 'text/javascript';
                widget.async = true;
                widget.src = "https://s3.tradingview.com/external-embedding/embed-widget-symbol-info.js";
                widget.innerText = JSON.stringify({
                    symbol: "AAPL",
                    width: "100%",
                    locale: "en",
                    colorTheme: "light",
                    isTransparent: true
                });
                document.querySelector('.tradingview-widget-container').appendChild(widget);
            </script>
        </div>
    </div>
      
      <!-- Bento Grid: Key Stats & Options Summary -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <!-- Key Stats Card -->
        <div class="bg-white rounded-xl shadow-md p-6 card-hover animate-fade-in">
          <h3 class="text-lg font-semibold text-sky-950 mb-4">Key Stats</h3>
          <div class="space-y-3">
            <div class="flex justify-between">
              <span class="text-gray-500">52w High</span>
              <span class="font-medium text-sky-950">$196.30</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-500">52w Low</span>
              <span class="font-medium text-sky-950">$123.45</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-500">P/E Ratio</span>
              <span class="font-medium text-sky-950">27.8</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-500">EPS (TTM)</span>
              <span class="font-medium text-sky-950">$6.38</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-500">Dividend Yield</span>
              <span class="font-medium text-sky-950">0.55%</span>
            </div>
          </div>
        </div>
        
        <!-- Call Options Summary -->
        <div class="bg-white rounded-xl shadow-md p-6 card-hover animate-fade-in">
          <h3 class="text-lg font-semibold text-sky-950 flex items-center">
            <span class="w-3 h-3 rounded-full bg-blue-500 mr-2"></span>
            Call Options Summary
          </h3>
          <div class="mt-4">
            <canvas id="callVolume" height="180"></canvas>
          </div>
          <div class="mt-4 text-sm">
            <div class="flex justify-between mb-1">
              <span class="text-gray-500">Total Volume</span>
              <span class="font-medium text-sky-950">21,916</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-500">Most Active Strike</span>
              <span class="font-medium text-sky-950">$180.00</span>
            </div>
          </div>
        </div>
        
        <!-- Put Options Summary -->
        <div class="bg-white rounded-xl shadow-md p-6 card-hover animate-fade-in">
          <h3 class="text-lg font-semibold text-sky-950 flex items-center">
            <span class="w-3 h-3 rounded-full bg-red-500 mr-2"></span>
            Put Options Summary
          </h3>
          <div class="mt-4">
            <canvas id="putVolume" height="180"></canvas>
          </div>
          <div class="mt-4 text-sm">
            <div class="flex justify-between mb-1">
              <span class="text-gray-500">Total Volume</span>
              <span class="font-medium text-sky-950">16,579</span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-500">Most Active Strike</span>
              <span class="font-medium text-sky-950">$180.00</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Options Data Tabs -->
      <div class="mb-4 border-b border-gray-200">
        <ul class="flex flex-wrap -mb-px text-sm font-medium text-center">
          <li class="mr-2">
            <button class="inline-block p-4 border-b-2 rounded-t-lg border-sky-800 active text-sky-800" id="callsTab">
              Call Options
            </button>
          </li>
          <li class="mr-2">
            <button class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:border-gray-300 text-gray-600 hover:text-gray-800" id="putsTab">
              Put Options
            </button>
          </li>
        </ul>
      </div>
      
      <!-- Call Options Table -->
      <div id="callsContent" class="bg-white rounded-xl shadow-md overflow-hidden animate-fade-in">
        <div class="border-l-4 border-blue-500 pl-4 py-4 px-6 bg-sky-50">
          <h3 class="text-lg font-semibold text-sky-950">AAPL Call Options - May 19, 2023 Expiration</h3>
          <p class="text-sm text-gray-600">Showing options data for the nearest expiration date</p>
        </div>
        
        <div class="overflow-x-auto custom-scrollbar">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-sky-950">
              <tr>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Strike
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Contract
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Last Price
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Volume
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Open Int
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Bid
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Ask
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Status
                </th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$170.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519C00170000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$8.45</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2,341</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">15,672</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$8.40</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$8.50</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                    ITM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$175.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519C00175000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$5.20</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3,642</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">22,198</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$5.15</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$5.25</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                    ITM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$180.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519C00180000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$2.85</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">5,821</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">31,456</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$2.80</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$2.90</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    OTM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$185.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519C00185000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$1.15</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4,215</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">19,547</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$1.10</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$1.20</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    OTM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$190.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519C00190000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$0.45</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2,738</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12,863</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.40</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.50</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    OTM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$195.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519C00195000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$0.15</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1,894</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">8,325</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.10</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.20</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    OTM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$200.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519C00200000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$0.05</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1,265</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">5,732</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.10</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    OTM
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- Put Options Table (Hidden initially) -->
      <div id="putsContent" class="hidden bg-white rounded-xl shadow-md overflow-hidden animate-fade-in">
        <div class="border-l-4 border-red-500 pl-4 py-4 px-6 bg-sky-50">
          <h3 class="text-lg font-semibold text-sky-950">AAPL Put Options - May 19, 2023 Expiration</h3>
          <p class="text-sm text-gray-600">Showing options data for the nearest expiration date</p>
        </div>
        
        <div class="overflow-x-auto custom-scrollbar">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-sky-950">
              <tr>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Strike
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Contract
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Last Price
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Volume
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Open Int
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Bid
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Ask
                </th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-sky-50 uppercase tracking-wider">
                  Status
                </th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$170.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519P00170000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$0.15</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1,752</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12,584</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.10</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.20</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    OTM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$175.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519P00175000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$0.95</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2,581</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">18,947</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$0.90</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$1.00</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    OTM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$180.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519P00180000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$2.55</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4,386</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">23,658</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$2.50</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$2.60</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                    ITM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$185.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519P00185000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$4.85</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3,275</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">16,987</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$4.80</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$4.90</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                    ITM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$190.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519P00190000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$8.20</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2,145</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">11,236</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$8.15</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$8.25</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                    ITM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$195.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519P00195000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$12.55</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1,428</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">7,986</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$12.50</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$12.60</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                    ITM
                  </span>
                </td>
              </tr>
              <tr class="hover:bg-sky-50">
                <td class="px-6 py-4 whitespace-nowrap font-medium text-sky-900">$200.00</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">AAPL230519P00200000</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-sky-900">$18.10</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1,012</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">4,682</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$18.05</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">$18.15</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">
                    ITM
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

            </div>
        </div>
    </main>

    <!-- Stock Search Script -->
    <script>
        // Chart.js initialization
document.addEventListener('DOMContentLoaded', function() {
    // Make sure Chart.js is loaded first
    if (typeof Chart === 'undefined') {
      console.error('Chart.js is not loaded. Please include the Chart.js library.');
      // Try to load Chart.js dynamically if not available
      const chartScript = document.createElement('script');
      chartScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js';
      chartScript.integrity = 'sha512-ElRFoEQdI5Ht6kZvyzXhYG9NqjtkmlkfYk0wr6wHxU9JEHakS7UJZNeml5ALk+8IKlU6jDgMabC3vkumRokgJA==';
      chartScript.crossOrigin = 'anonymous';
      chartScript.onload = initializeCharts;
      document.head.appendChild(chartScript);
    } else {
      initializeCharts();
    }
    
    // Tab switching functionality - Fixed to ensure elements exist before adding listeners
    const callsTab = document.getElementById('callsTab');
    const putsTab = document.getElementById('putsTab');
    const callsContent = document.getElementById('callsContent');
    const putsContent = document.getElementById('putsContent');
    
    if (callsTab && putsTab && callsContent && putsContent) {
      callsTab.addEventListener('click', function() {
        callsContent.classList.remove('hidden');
        putsContent.classList.add('hidden');
        callsTab.classList.add('border-sky-800', 'text-sky-800');
        callsTab.classList.remove('border-transparent', 'text-gray-600');
        putsTab.classList.add('border-transparent', 'text-gray-600');
        putsTab.classList.remove('border-sky-800', 'text-sky-800');
      });
      
      putsTab.addEventListener('click', function() {
        putsContent.classList.remove('hidden');
        callsContent.classList.add('hidden');
        putsTab.classList.add('border-sky-800', 'text-sky-800');
        putsTab.classList.remove('border-transparent', 'text-gray-600');
        callsTab.classList.add('border-transparent', 'text-gray-600');
        callsTab.classList.remove('border-sky-800', 'text-sky-800');
      });
    } else {
      console.error('Tab elements not found in the DOM');
    }
  });
  
  // Function to initialize all charts
  function initializeCharts() {
    console.log('Initializing charts...');
    
    // Helper function to safely get chart context
    function getChartContext(id) {
      const canvas = document.getElementById(id);
      if (!canvas) {
        console.error(`Canvas element with ID "${id}" not found`);
        return null;
      }
      return canvas.getContext('2d');
    }
    
    // Stock Price Chart
    const priceChartCtx = getChartContext('priceChart');
    if (priceChartCtx) {
      const priceChart = new Chart(priceChartCtx, {
        type: 'line',
        data: {
          labels: ['6 May', '7 May', '8 May', '9 May', '10 May', '11 May', '12 May'],
          datasets: [{
            label: 'AAPL Price',
            data: [173.50, 174.20, 175.85, 176.10, 175.05, 176.89, 177.45],
            borderColor: 'rgb(14, 116, 144)',
            backgroundColor: 'rgba(14, 116, 144, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 3,
            pointBackgroundColor: 'rgb(14, 116, 144)'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              mode: 'index',
              intersect: false
            }
          },
          scales: {
            x: {
              grid: {
                display: false
              }
            },
            y: {
              beginAtZero: false,
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            }
          }
        }
      });
    }
    
    // Call Volume Chart (Donut)
    const callVolumeCtx = getChartContext('callVolume');
    if (callVolumeCtx) {
      const callVolumeChart = new Chart(callVolumeCtx, {
        type: 'doughnut',
        data: {
          labels: ['$180', '$185', '$175', '$190', 'Other'],
          datasets: [{
            data: [5821, 4215, 3642, 2738, 5500],
            backgroundColor: [
              'rgba(59, 130, 246, 0.9)',
              'rgba(59, 130, 246, 0.7)',
              'rgba(59, 130, 246, 0.5)',
              'rgba(59, 130, 246, 0.4)',
              'rgba(59, 130, 246, 0.2)'
            ],
            borderWidth: 1,
            borderColor: '#fff'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'right',
              labels: {
                boxWidth: 12,
                font: {
                  size: 10
                }
              }
            }
          },
          cutout: '70%'
        }
      });
    }
    
    // Put Volume Chart (Donut)
    const putVolumeCtx = getChartContext('putVolume');
    if (putVolumeCtx) {
      const putVolumeChart = new Chart(putVolumeCtx, {
        type: 'doughnut',
        data: {
          labels: ['$180', '$185', '$175', '$170', 'Other'],
          datasets: [{
            data: [4386, 3275, 2581, 1752, 4585],
            backgroundColor: [
              'rgba(239, 68, 68, 0.9)',
              'rgba(239, 68, 68, 0.7)',
              'rgba(239, 68, 68, 0.5)',
              'rgba(239, 68, 68, 0.4)',
              'rgba(239, 68, 68, 0.2)'
            ],
            borderWidth: 1,
            borderColor: '#fff'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'right',
              labels: {
                boxWidth: 12,
                font: {
                  size: 10
                }
              }
            }
          },
          cutout: '70%'
        }
      });
    }
    
    // Put/Call Ratio Chart
    const putCallRatioCtx = getChartContext('putCallRatioChart');
    if (putCallRatioCtx) {
      const putCallRatioChart = new Chart(putCallRatioCtx, {
        type: 'line',
        data: {
          labels: ['12 Apr', '19 Apr', '26 Apr', '3 May', '10 May', '12 May'],
          datasets: [{
            label: 'Put/Call Ratio',
            data: [0.82, 0.91, 0.88, 0.85, 0.79, 0.76],
            borderColor: 'rgb(124, 58, 237)',
            backgroundColor: 'rgba(124, 58, 237, 0.1)',
            fill: true,
            tension: 0.4,
            pointRadius: 3,
            pointBackgroundColor: 'rgb(124, 58, 237)'
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            x: {
              grid: {
                display: false
              }
            },
            y: {
              beginAtZero: false,
              min: 0.7,
              max: 1.0,
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            }
          }
        }
      });
    }
    
    // Implied Volatility Surface Chart
    const ivSurfaceCtx = getChartContext('ivSurfaceChart');
    if (ivSurfaceCtx) {
      const ivSurfaceChart = new Chart(ivSurfaceCtx, {
        type: 'bar',
        data: {
          labels: ['170', '175', '180', '185', '190', '195', '200'],
          datasets: [
            {
              label: 'Call IV (%)',
              data: [18.2, 20.5, 22.4, 24.8, 26.7, 27.3, 25.9],
              backgroundColor: 'rgba(59, 130, 246, 0.7)',
              borderColor: 'rgba(59, 130, 246, 1)',
              borderWidth: 1
            },
            {
              label: 'Put IV (%)',
              data: [25.8, 24.2, 22.4, 20.9, 19.1, 18.3, 17.5],
              backgroundColor: 'rgba(239, 68, 68, 0.7)',
              borderColor: 'rgba(239, 68, 68, 1)',
              borderWidth: 1
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
            },
            tooltip: {
              mode: 'index',
              intersect: false
            }
          },
          scales: {
            x: {
              title: {
                display: true,
                text: 'Strike Price ($)'
              },
              grid: {
                display: false
              }
            },
            y: {
              title: {
                display: true,
                text: 'Implied Volatility (%)'
              },
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              }
            }
          }
        }
      });
    }
  }
    </script>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>