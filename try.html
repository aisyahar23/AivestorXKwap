<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIvestor - Financial Market Forecasting</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.12.1/plotly.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif']
                    },
                    colors: {
                        'midnight': {
                            30: '#e0f2fe',
                            50: '#f8fafc',
                            900: '#0f172a',
                            800: '#1e293b'
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="min-h-screen bg-gray-50 font-inter text-slate-800">
    <!-- Overlay for mobile sidebar -->
    <div id="overlay" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-40 hidden"></div>

    <!-- Header -->
    <header class="fixed top-0 left-0 w-full z-50 bg-midnight-900 backdrop-blur-lg border-b border-gray-200">
        <nav class="w-full flex items-center justify-between py-4 px-6">
            <!-- Logo Section with Sidebar Toggle -->
            <div class="flex items-center space-x-4">
                <button id="sidebarToggle" class="p-3 rounded-xl hover:bg-gray-100 text-slate-400 transition-all duration-300 border border-gray-200 hover:border-gray-300">
                    <i class="fas fa-bars text-lg"></i>
                </button>
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-white from-slate-900 to-slate-700 rounded-xl flex items-center justify-center">
                        <i class="fas fa-chart-line text-black text-xl"></i>
                    </div>
                    <div>
                        <span class="text-2xl text-white text-slate-900">AIvestor</span>
                        <div class="text-sm text-slate-500">Financial Market Forecasting</div>
                    </div>
                </div>
            </div>

            <!-- Main Navigation -->
            <div class="hidden md:flex items-center space-x-2">
                <a href="#" class="flex items-center space-x-2 px-6 py-3 rounded-xl text-slate-100 hover:text-slate-900 hover:bg-gray-100 transition-all duration-300">
                    <i class="fas fa-home"></i>
                    <span class="font-semibold">Home</span>
                </a>
                <a href="#" class="flex items-center space-x-2 px-6 py-3 rounded-xl bg-slate-300 hover:bg-slate-200 text-black shadow-sm transition-all duration-300">
                    <i class="fas fa-chart-bar"></i>
                    <span class="font-semibold">Analysis</span>
                </a>
                <a href="#" class="flex items-center space-x-2 px-6 py-3 rounded-xl text-slate-100 hover:text-slate-900 hover:bg-gray-100 transition-all duration-300">
                    <i class="fas fa-newspaper"></i>
                    <span class="font-semibold">News</span>
                </a>
            </div>

            <!-- Search and User Section -->
            <div class="flex items-center space-x-4">
                <!-- Quick Search -->
                <div class="hidden lg:block relative">
                    <div class="bg-white rounded-xl px-4 py-3 flex items-center space-x-3 min-w-64 border border-gray-200 shadow-sm">
                        <i class="fas fa-search text-gray-400"></i>
                        <input id="headerSearch" type="text" placeholder="Quick search..." 
                               class="bg-transparent outline-none text-slate-900 placeholder-gray-400 flex-1">
                    </div>
                </div>

                <!-- User Menu -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-slate-900 to-slate-700 rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-white"></i>
                    </div>
                    <button class="hidden md:flex items-center space-x-2 px-4 py-3 text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300 border border-red-200 hover:border-red-300">
                        <i class="fas fa-sign-out-alt"></i>
                        <span class="font-semibold">Logout</span>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Sidebar -->
    <aside id="sidebar" class="fixed left-0 top-0 h-full w-80 bg-white border-r border-gray-200 z-45 shadow-lg transform -translate-x-full transition-transform duration-300 ease-in-out">
        <div class="pt-20 h-full flex flex-col">
            <!-- Sidebar Header -->
            <div class="px-6 py-6 border-b border-gray-200">
                <h2 class="text-xl font-bold text-slate-900 mb-4">Stock Explorer</h2>
                
                <!-- Sidebar Search -->
                <div class="relative">
                    <div class="bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 flex items-center space-x-3">
                        <i class="fas fa-search text-gray-400"></i>
                        <input id="sidebarSearch" type="text" placeholder="Search stocks..." 
                               class="bg-transparent outline-none text-slate-900 placeholder-gray-400 flex-1">
                    </div>
                    <div id="sidebarSearchResults" class="hidden absolute mt-2 w-full bg-white rounded-xl shadow-lg border border-gray-200 z-50 max-h-48 overflow-y-auto"></div>
                </div>
            </div>

            <!-- Navigation Menu -->
            <div class="px-6 py-4 border-b border-gray-200">
                <div class="space-y-2">
                    <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl bg-slate-900 text-white shadow-sm">
                        <i class="fas fa-chart-line"></i>
                        <span class="font-semibold">Overview</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-gray-50 transition-all duration-300">
                        <i class="fas fa-calculator"></i>
                        <span class="font-semibold">Analysis</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-gray-50 transition-all duration-300">
                        <i class="fas fa-newspaper"></i>
                        <span class="font-semibold">News</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-blue-50 hover:text-blue-700 transition-all duration-300">
                        <i class="fas fa-brain"></i>
                        <span class="font-semibold">AI Insights</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-xl text-slate-600 hover:text-slate-900 hover:bg-gray-50 transition-all duration-300">
                        <i class="fas fa-star"></i>
                        <span class="font-semibold">Watchlist</span>
                    </a>
                </div>
            </div>

            <!-- Recommended Stocks -->
            <div class="flex-1 overflow-y-auto">
                <!-- Top Gainers -->
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-slate-900">ðŸš€ Top Gainers</h3>
                        <span class="text-xs text-green-700 bg-green-100 px-2 py-1 rounded-full">Today</span>
                    </div>
                    <div class="space-y-3" id="topGainers">
                        <div class="stock-item flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-xl cursor-pointer hover:bg-green-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">AAPL</div>
                                <div class="text-xs text-slate-600">Apple Inc.</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-green-600">+3.2%</div>
                                <div class="text-xs text-slate-600">$189.96</div>
                            </div>
                        </div>
                        <div class="stock-item flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-xl cursor-pointer hover:bg-green-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">MSFT</div>
                                <div class="text-xs text-slate-600">Microsoft</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-green-600">+2.8%</div>
                                <div class="text-xs text-slate-600">$412.34</div>
                            </div>
                        </div>
                        <div class="stock-item flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-xl cursor-pointer hover:bg-green-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">NVDA</div>
                                <div class="text-xs text-slate-600">NVIDIA</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-green-600">+2.5%</div>
                                <div class="text-xs text-slate-600">$1,234.56</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Recommendations -->
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-slate-900">ðŸ¤– AI Picks</h3>
                        <span class="text-xs text-blue-700 bg-blue-100 px-3 py-1 rounded-full border border-blue-200">High Confidence</span>
                    </div>
                    <div class="space-y-3" id="aiRecommendations">
                        <div class="stock-item flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-xl cursor-pointer hover:bg-blue-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">META</div>
                                <div class="text-xs text-slate-600">Meta Platforms</div>
                                <div class="text-xs text-blue-600">92% confidence</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-cyan-600">BUY</div>
                                <div class="text-xs text-slate-600">$298.67</div>
                            </div>
                        </div>
                        <div class="stock-item flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-xl cursor-pointer hover:bg-blue-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">AMD</div>
                                <div class="text-xs text-slate-600">AMD Inc.</div>
                                <div class="text-xs text-blue-600">89% confidence</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-cyan-600">BUY</div>
                                <div class="text-xs text-slate-600">$156.78</div>
                            </div>
                        </div>
                        <div class="stock-item flex items-center justify-between p-4 bg-blue-50 border border-blue-200 rounded-xl cursor-pointer hover:bg-blue-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">CRM</div>
                                <div class="text-xs text-slate-600">Salesforce</div>
                                <div class="text-xs text-blue-600">87% confidence</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-cyan-600">BUY</div>
                                <div class="text-xs text-slate-600">$245.32</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Market Movers -->
                <div class="px-6 py-4">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-slate-900">ðŸ“ˆ Market Movers</h3>
                        <span class="text-xs text-amber-700 bg-amber-100 px-2 py-1 rounded-full">Volume</span>
                    </div>
                    <div class="space-y-3" id="marketMovers">
                        <div class="stock-item flex items-center justify-between p-4 bg-amber-50 border border-amber-200 rounded-xl cursor-pointer hover:bg-amber-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">SPY</div>
                                <div class="text-xs text-slate-600">S&P 500 ETF</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-amber-600">+0.8%</div>
                                <div class="text-xs text-slate-600">$421.34</div>
                            </div>
                        </div>
                        <div class="stock-item flex items-center justify-between p-4 bg-amber-50 border border-amber-200 rounded-xl cursor-pointer hover:bg-amber-100 transition-all duration-300 hover:-translate-y-1 hover:shadow-md">
                            <div>
                                <div class="font-bold text-slate-900">QQQ</div>
                                <div class="text-xs text-slate-600">Nasdaq ETF</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-amber-600">+1.2%</div>
                                <div class="text-xs text-slate-600">$389.67</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main id="mainContent" class="pt-20 min-h-screen transition-all duration-300 ease-in-out">
        <div class="p-6">
            <!-- Stock Header Card -->
            <div class="bg-white rounded-2xl p-6 mb-6 border border-gray-200 shadow-sm">
                <div class="flex flex-col lg:flex-row lg:justify-between lg:items-start mb-4">
                    <div class="mb-4 lg:mb-0">
                        <h1 class="text-3xl lg:text-4xl font-black text-slate-900 mb-3">Apple Inc. (AAPL)</h1>
                        <div class="flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-6">
                            <span class="text-3xl lg:text-4xl font-black text-slate-900">$189.96</span>
                            <span class="px-4 py-2 bg-green-500 text-white rounded-full text-lg font-bold shadow-sm">+2.34%</span>
                            <span class="text-slate-600 text-lg">+$4.35 today</span>
                        </div>
                    </div>
                    <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
                        <div class="px-6 py-3 bg-cyan-50 border border-cyan-200 rounded-xl text-cyan-700 font-bold">
                            <i class="fas fa-check-circle mr-2 text-cyan-600"></i>92% Confidence
                        </div>
                        <div class="px-6 py-3 bg-slate-900 hover:bg-slate-800 text-white rounded-xl font-bold shadow-sm transition-all duration-300">
                            <i class="fas fa-robot mr-2"></i>AI Recommended
                        </div>
                    </div>
                </div>
            </div>

            <!-- Enhanced Tabs -->
            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6">
                <div class="flex flex-col lg:flex-row lg:justify-between lg:items-center p-6 border-b border-gray-200">
                    <div class="flex flex-wrap gap-3 mb-4 lg:mb-0" id="predictionTabs">
                        <button class="tab-btn px-6 py-3 rounded-xl font-bold bg-slate-900 text-white shadow-sm active transition-all duration-300" data-tab="forecast">
                            <i class="fas fa-chart-line mr-2"></i>AI Forecast
                        </button>
                        <button class="tab-btn px-6 py-3 rounded-xl font-bold text-slate-600 hover:text-slate-900 hover:bg-gray-100 border border-gray-200 hover:border-gray-300 transition-all duration-300" data-tab="historical">
                            <i class="fas fa-history mr-2"></i>Historical
                        </button>
                        <button class="tab-btn px-6 py-3 rounded-xl font-bold text-slate-600 hover:text-slate-900 hover:bg-gray-100 border border-gray-200 hover:border-gray-300 transition-all duration-300" data-tab="metrics">
                            <i class="fas fa-chart-bar mr-2"></i>Metrics
                        </button>
                        <button class="tab-btn px-6 py-3 rounded-xl font-bold text-slate-600 hover:text-slate-900 hover:bg-gray-100 border border-gray-200 hover:border-gray-300 transition-all duration-300" data-tab="ranking">
                            <i class="fas fa-trophy mr-2"></i>Rankings
                        </button>
                    </div>
                    <div class="flex items-center space-x-4">
                        <!-- Model Select -->
                        <div class="relative">
                            <select id="modelSelect" class="bg-gray-50 border border-gray-200 px-4 py-3 rounded-xl text-slate-900 font-semibold">
                                <option value="lstm">ðŸ§  LSTM Model</option>
                                <option value="transformer">âš¡ Transformer Model</option>
                                <option value="combined">ðŸ”€ Combined Model</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- AI Forecast Tab -->
                <!-- AI Forecast Tab -->
                <div id="forecast-tab" class="tab-content p-6">
                    <!-- Enhanced Chart Section -->
                    <div class="bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-8 mb-8 shadow-xl">
                        <div class="flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6">
                            <div>
                                <h3 class="text-3xl font-black text-white mb-2">AI Price Prediction</h3>
                                <p class="text-slate-300">Advanced neural network forecast with confidence intervals</p>
                            </div>
                            <div class="flex flex-wrap gap-3 mt-4 lg:mt-0">
                                <button class="timeframe-btn px-6 py-3 bg-white text-slate-900 rounded-xl font-bold shadow-lg active" data-range="1w">1 Week</button>
                                <button class="timeframe-btn px-6 py-3 text-white hover:bg-slate-700 rounded-xl font-bold border border-slate-600 transition-all duration-300" data-range="1m">1 Month</button>
                                <button class="timeframe-btn px-6 py-3 text-white hover:bg-slate-700 rounded-xl font-bold border border-slate-600 transition-all duration-300" data-range="3m">3 Months</button>
                                <button class="timeframe-btn px-6 py-3 text-white hover:bg-slate-700 rounded-xl font-bold border border-slate-600 transition-all duration-300" data-range="6m">6 Months</button>
                            </div>
                        </div>
                        <div class="h-[700px] bg-white rounded-xl p-4 shadow-inner">
                            <div id="forecastPlot" class="w-full h-full"></div>
                        </div>
                    </div>

                    <!-- Enhanced Key Metrics Section -->
                    <div class="bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 rounded-2xl p-8 mb-8 shadow-xl">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <!-- Left Section - Current & Target -->
                            <div class="space-y-6">
                                <div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-chart-line text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 class="text-white font-bold text-lg">Market Status</h4>
                                            <p class="text-slate-400 text-sm">Real-time pricing</p>
                                        </div>
                                    </div>
                                    <div class="bg-slate-700/60 rounded-xl p-6 border border-slate-700">
                                        <div class="flex justify-between items-start mb-4">
                                            <div>
                                                <p class="text-slate-400 text-sm mb-1">Current Price</p>
                                                <p class="text-white text-3xl font-black">$189.96</p>
                                            </div>
                                            <span class="px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-semibold">
                                                <i class="fas fa-circle text-xs mr-1"></i>Live
                                            </span>
                                        </div>
                                        <div class="flex items-center text-green-400">
                                            <i class="fas fa-arrow-up mr-2"></i>
                                            <span class="font-bold">+$4.35 (+2.34%)</span>
                                            <span class="text-slate-500 ml-2 text-sm">Today</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Center Section - AI Prediction -->
                            <div class="space-y-6">
                                <div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-robot text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 class="text-white font-bold text-lg">AI Forecast</h4>
                                            <p class="text-slate-400 text-sm">Next day prediction</p>
                                        </div>
                                    </div>
                                    <div class="bg-slate-700/60 rounded-xl p-6 border border-slate-700">
                                        <div class="mb-4">
                                            <p class="text-slate-400 text-sm mb-1">Tomorrow's Target</p>
                                            <p class="text-white text-3xl font-black">$195.78</p>
                                        </div>
                                        <div class="space-y-3">
                                            <div class="flex justify-between items-center">
                                                <span class="text-slate-400 text-sm">Expected Gain</span>
                                                <span class="text-green-400 font-bold">+3.1%</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-slate-400 text-sm">Confidence</span>
                                                <div class="flex items-center">
                                                    <div class="w-24 bg-slate-700 rounded-full h-2 mr-2">
                                                        <div class="bg-green-500 h-2 rounded-full" style="width: 92%"></div>
                                                    </div>
                                                    <span class="text-white font-bold">92%</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Section - Analysis Summary -->
                            <div class="space-y-6">
                                <div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-brain text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 class="text-white font-bold text-lg">AI Analysis</h4>
                                            <p class="text-slate-400 text-sm">Model insights</p>
                                        </div>
                                    </div>
                                    <div class="bg-slate-700/60 rounded-xl p-6 border border-slate-700">
                                        <div class="space-y-4">
                                            <div class="flex justify-between items-center">
                                                <span class="text-slate-400 text-sm">Signal Strength</span>
                                                <span class="px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm font-bold">STRONG BUY</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-slate-400 text-sm">Risk Level</span>
                                                <span class="px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-bold">LOW</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-slate-400 text-sm">Price Range</span>
                                                <span class="text-white font-semibold">$192.45 - $198.65</span>
                                            </div>
                                            <div class="flex justify-between items-center">
                                                <span class="text-slate-400 text-sm">Model Type</span>
                                                <span class="text-white font-semibold">LSTM Neural</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Future Predictions Table -->
                    <!-- Future Predictions Table -->
                    <div class="bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden">
                        <div class="bg-gradient-to-r from-green-600 to-green-700 p-6">
                            <h4 class="text-2xl font-black text-white mb-2">AI Future Predictions</h4>
                            <p class="text-green-100">Next 7 days forecast with confidence intervals</p>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50 border-b border-gray-200">
                                    <tr>
                                        <th class="text-left p-4 font-bold text-slate-900">Date</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Predicted Price</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Expected Change</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Confidence</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Range</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Signal</th>
                                    </tr>
                                </thead>
                                <tbody id="futurePredictionTable">
                                    <tr class="hover:bg-green-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4 text-slate-700 font-semibold">2025-06-04</td>
                                        <td class="p-4 text-slate-900 font-black text-lg">$195.78</td>
                                        <td class="p-4">
                                            <div class="flex items-center">
                                                <i class="fas fa-arrow-up text-green-600 mr-2"></i>
                                                <span class="text-green-600 font-bold">+3.1%</span>
                                            </div>
                                        </td>
                                        <td class="p-4"><span class="px-3 py-1 bg-green-100 text-green-700 rounded-full font-bold border border-green-200">92%</span></td>
                                        <td class="p-4 text-slate-700 font-semibold">$192.45 - $198.65</td>
                                        <td class="p-4"><span class="px-3 py-1 bg-cyan-500 text-white rounded-full font-bold">BUY</span></td>
                                    </tr>
                                    <tr class="hover:bg-green-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4 text-slate-700 font-semibold">2025-06-05</td>
                                        <td class="p-4 text-slate-900 font-black text-lg">$198.45</td>
                                        <td class="p-4">
                                            <div class="flex items-center">
                                                <i class="fas fa-arrow-up text-green-600 mr-2"></i>
                                                <span class="text-green-600 font-bold">+1.4%</span>
                                            </div>
                                        </td>
                                        <td class="p-4"><span class="px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full font-bold border border-yellow-200">87%</span></td>
                                        <td class="p-4 text-slate-700 font-semibold">$194.23 - $201.78</td>
                                        <td class="p-4"><span class="px-3 py-1 bg-cyan-500 text-white rounded-full font-bold">BUY</span></td>
                                    </tr>
                                    <tr class="hover:bg-green-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4 text-slate-700 font-semibold">2025-06-06</td>
                                        <td class="p-4 text-slate-900 font-black text-lg">$201.23</td>
                                        <td class="p-4">
                                            <div class="flex items-center">
                                                <i class="fas fa-arrow-up text-green-600 mr-2"></i>
                                                <span class="text-green-600 font-bold">+1.4%</span>
                                            </div>
                                        </td>
                                        <td class="p-4"><span class="px-3 py-1 bg-green-100 text-green-700 rounded-full font-bold border border-green-200">89%</span></td>
                                        <td class="p-4 text-slate-700 font-semibold">$197.45 - $204.89</td>
                                        <td class="p-4"><span class="px-3 py-1 bg-cyan-500 text-white rounded-full font-bold">BUY</span></td>
                                    </tr>
                                    <tr class="hover:bg-green-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4 text-slate-700 font-semibold">2025-06-07</td>
                                        <td class="p-4 text-slate-900 font-black text-lg">$202.56</td>
                                        <td class="p-4">
                                            <div class="flex items-center">
                                                <i class="fas fa-arrow-up text-green-600 mr-2"></i>
                                                <span class="text-green-600 font-bold">+0.7%</span>
                                            </div>
                                        </td>
                                        <td class="p-4"><span class="px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full font-bold border border-yellow-200">85%</span></td>
                                        <td class="p-4 text-slate-700 font-semibold">$198.23 - $206.12</td>
                                        <td class="p-4"><span class="px-3 py-1 bg-amber-500 text-white rounded-full font-bold">HOLD</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Historical Tab -->
                <div id="historical-tab" class="tab-content hidden p-6">
                    <div class="bg-gray-50 rounded-xl p-6 border border-gray-200 mb-6">
                        <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6">
                            <h3 class="text-2xl font-bold text-slate-900 mb-3 sm:mb-0">Historical vs Predicted</h3>
                            <select id="timeRangeSelect" class="bg-white border border-gray-200 px-4 py-3 rounded-xl text-slate-900 font-semibold">
                                <option value="1m">1 Month</option>
                                <option value="3m">3 Months</option>
                                <option value="6m" selected>6 Months</option>
                                <option value="1y">1 Year</option>
                            </select>
                        </div>
                        <div class="h-96">
                            <div id="historicalPlot" class="w-full h-full bg-white rounded-xl border border-gray-200"></div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6">
                            <div class="text-sm text-slate-600 mb-2 font-semibold">Current Price</div>
                            <div class="text-3xl font-black text-slate-900">$189.96</div>
                        </div>
                        <div class="bg-purple-50 border border-purple-200 rounded-xl p-6">
                            <div class="text-sm text-slate-600 mb-2 font-semibold">52-Week Range</div>
                            <div class="text-xl font-black text-slate-900">$158.77 - $218.32</div>
                        </div>
                        <div class="bg-green-50 border border-green-200 rounded-xl p-6">
                            <div class="text-sm text-slate-600 mb-2 font-semibold">Prediction Accuracy</div>
                            <div class="text-2xl font-black text-green-600">87.3%</div>
                            <div class="text-sm text-slate-500 mt-1">Last 30 days</div>
                        </div>
                    </div>
                      <!-- Historical vs Predicted Analysis Table -->
                    <div class="bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden mb-1 mt-3">
                        <div class="bg-gradient-to-r from-slate-900 to-slate-800 p-6">
                            <h4 class="text-2xl font-black text-white mb-2">Historical Performance Analysis</h4>
                            <p class="text-slate-300">Comparing actual prices with AI predictions over the past 30 days</p>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50 border-b border-gray-200">
                                    <tr>
                                        <th class="text-left p-4 font-bold text-slate-900">Date</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Actual Price</th>
                                        <th class="text-left p-4 font-bold text-slate-900">AI Predicted</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Difference</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Accuracy</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Status</th>
                                    </tr>
                                </thead>
                                <tbody id="historicalComparisonTable">
                                    <tr class="hover:bg-gray-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4 text-slate-700 font-semibold">2025-06-03</td>
                                        <td class="p-4 text-slate-900 font-bold">$189.96</td>
                                        <td class="p-4 text-slate-900 font-bold">$188.45</td>
                                        <td class="p-4 text-green-600 font-bold">+$1.51</td>
                                        <td class="p-4">
                                            <div class="flex items-center">
                                                <span class="font-bold text-green-600">99.2%</span>
                                                <div class="ml-2 w-16 bg-gray-200 rounded-full h-2">
                                                    <div class="bg-green-500 h-2 rounded-full" style="width: 99.2%"></div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-4"><span class="px-3 py-1 bg-green-100 text-green-700 rounded-full font-semibold">Accurate</span></td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4 text-slate-700 font-semibold">2025-06-02</td>
                                        <td class="p-4 text-slate-900 font-bold">$185.61</td>
                                        <td class="p-4 text-slate-900 font-bold">$187.23</td>
                                        <td class="p-4 text-red-600 font-bold">-$1.62</td>
                                        <td class="p-4">
                                            <div class="flex items-center">
                                                <span class="font-bold text-green-600">99.1%</span>
                                                <div class="ml-2 w-16 bg-gray-200 rounded-full h-2">
                                                    <div class="bg-green-500 h-2 rounded-full" style="width: 99.1%"></div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-4"><span class="px-3 py-1 bg-green-100 text-green-700 rounded-full font-semibold">Accurate</span></td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4 text-slate-700 font-semibold">2025-06-01</td>
                                        <td class="p-4 text-slate-900 font-bold">$183.42</td>
                                        <td class="p-4 text-slate-900 font-bold">$185.98</td>
                                        <td class="p-4 text-red-600 font-bold">-$2.56</td>
                                        <td class="p-4">
                                            <div class="flex items-center">
                                                <span class="font-bold text-amber-600">98.6%</span>
                                                <div class="ml-2 w-16 bg-gray-200 rounded-full h-2">
                                                    <div class="bg-amber-500 h-2 rounded-full" style="width: 98.6%"></div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="p-4"><span class="px-3 py-1 bg-amber-100 text-amber-700 rounded-full font-semibold">Good</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="bg-gray-50 p-4 border-t border-gray-200">
                            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center">
                                <span class="text-sm text-slate-600 mb-2 sm:mb-0">Showing last 30 days of predictions</span>
                                <button class="px-4 py-2 bg-slate-900 text-white rounded-lg font-semibold hover:bg-slate-800 transition-all duration-300">
                                    <i class="fas fa-download mr-2"></i>Export Data
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Metrics Tab -->
                <div id="metrics-tab" class="tab-content hidden p-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="bg-green-50 border border-green-200 rounded-xl p-8">
                            <div class="flex items-center justify-between mb-6">
                                <h4 class="text-xl font-bold text-slate-900">Model Accuracy</h4>
                                <i class="fas fa-bullseye text-green-600 text-2xl"></i>
                            </div>
                            <div class="text-4xl font-black text-green-600 mb-2">92.4%</div>
                            <div class="text-slate-600 font-semibold">Overall prediction accuracy</div>
                        </div>
                        <div class="bg-blue-50 border border-blue-200 rounded-xl p-8">
                            <div class="flex items-center justify-between mb-6">
                                <h4 class="text-xl font-bold text-slate-900">RMSE</h4>
                                <i class="fas fa-chart-line text-blue-600 text-2xl"></i>
                            </div>
                            <div class="text-4xl font-black text-blue-600 mb-2">2.19</div>
                            <div class="text-slate-600 font-semibold">Root Mean Square Error</div>
                        </div>
                        <div class="bg-purple-50 border border-purple-200 rounded-xl p-8">
                            <div class="flex items-center justify-between mb-6">
                                <h4 class="text-xl font-bold text-slate-900">RÂ² Score</h4>
                                <i class="fas fa-trophy text-purple-600 text-2xl"></i>
                            </div>
                            <div class="text-4xl font-black text-purple-600 mb-2">0.83</div>
                            <div class="text-slate-600 font-semibold">Coefficient of determination</div>
                        </div>
                    </div>

                    <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                        <h4 class="text-2xl font-bold text-slate-900 mb-6">Model Performance Over Time</h4>
                        <div class="h-96">
                            <div id="performanceChart" class="w-full h-full bg-white rounded-xl border border-gray-200"></div>
                        </div>
                    </div>
                </div>

                <!-- Stock Rankings Tab -->
                <div id="ranking-tab" class="tab-content hidden p-6">
                    <div class="mb-6">
                        <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center">
                            <h3 class="text-2xl font-bold text-slate-900 mb-4 sm:mb-0">Top Predicted Performers</h3>
                            <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
                                <select id="rankingPeriod" class="bg-gray-50 border border-gray-200 px-4 py-3 rounded-xl text-slate-900 font-semibold">
                                    <option value="1w">Next Week</option>
                                    <option value="1m" selected>Next Month</option>
                                    <option value="3m">Next Quarter</option>
                                </select>
                                <select id="rankingSize" class="bg-gray-50 border border-gray-200 px-4 py-3 rounded-xl text-slate-900 font-semibold">
                                    <option value="5">Top 5</option>
                                    <option value="10" selected>Top 10</option>
                                    <option value="30">Top 30</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white border border-gray-200 rounded-xl overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="text-left p-4 font-bold text-slate-900">Rank</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Symbol</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Company</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Current</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Target</th>
                                        <th class="text-left p-4 font-bold text-slate-900">Gain</th>
                                    </tr>
                                </thead>
                                <tbody id="rankingTableBody">
                                    <tr class="hover:bg-gray-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4">
                                            <span class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold">1</span>
                                        </td>
                                        <td class="p-4 font-bold text-slate-900">AAPL</td>
                                        <td class="p-4 text-slate-700 font-semibold">Apple Inc.</td>
                                        <td class="p-4 text-slate-900 font-bold">$189.96</td>
                                        <td class="p-4 text-slate-900 font-bold">$195.78</td>
                                        <td class="p-4 text-green-600 font-bold">+3.1%</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4">
                                            <span class="w-8 h-8 bg-gradient-to-r from-gray-300 to-gray-500 rounded-full flex items-center justify-center text-white font-bold">2</span>
                                        </td>
                                        <td class="p-4 font-bold text-slate-900">MSFT</td>
                                        <td class="p-4 text-slate-700 font-semibold">Microsoft Corp.</td>
                                        <td class="p-4 text-slate-900 font-bold">$412.34</td>
                                        <td class="p-4 text-slate-900 font-bold">$425.67</td>
                                        <td class="p-4 text-green-600 font-bold">+3.2%</td>
                                    </tr>
                                    <tr class="hover:bg-gray-50 border-b border-gray-100 transition-all duration-300">
                                        <td class="p-4">
                                            <span class="w-8 h-8 bg-gradient-to-r from-orange-400 to-red-500 rounded-full flex items-center justify-center text-white font-bold">3</span>
                                        </td>
                                        <td class="p-4 font-bold text-slate-900">GOOGL</td>
                                        <td class="p-4 text-slate-700 font-semibold">Alphabet Inc.</td>
                                        <td class="p-4 text-slate-900 font-bold">$175.89</td>
                                        <td class="p-4 text-slate-900 font-bold">$181.23</td>
                                        <td class="p-4 text-green-600 font-bold">+3.0%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Sidebar state management
        let sidebarOpen = false;

        // Sidebar toggle functionality
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');
        const overlay = document.getElementById('overlay');

        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            
            if (window.innerWidth < 1024) {
                // Mobile behavior
                if (sidebarOpen) {
                    sidebar.classList.remove('-translate-x-full');
                    sidebar.classList.add('translate-x-0');
                    overlay.classList.remove('hidden');
                } else {
                    sidebar.classList.remove('translate-x-0');
                    sidebar.classList.add('-translate-x-full');
                    overlay.classList.add('hidden');
                }
            } else {
                // Desktop behavior
                if (sidebarOpen) {
                    sidebar.classList.remove('-translate-x-full');
                    sidebar.classList.add('translate-x-0');
                    mainContent.style.marginLeft = '320px';
                } else {
                    sidebar.classList.remove('translate-x-0');
                    sidebar.classList.add('-translate-x-full');
                    mainContent.style.marginLeft = '0';
                }
            }
        }

        function closeSidebar() {
            sidebarOpen = false;
            sidebar.classList.remove('translate-x-0');
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
            if (window.innerWidth >= 1024) {
                mainContent.style.marginLeft = '0';
            }
        }

        sidebarToggle.addEventListener('click', toggleSidebar);
        overlay.addEventListener('click', closeSidebar);

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 1024) {
                overlay.classList.add('hidden');
            } else {
                mainContent.style.marginLeft = '0';
            }
        });

        // Tab switching functionality
        const tabButtons = document.querySelectorAll('.tab-btn');
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetTab = button.dataset.tab;
                
                // Update active tab styling
                tabButtons.forEach(btn => {
                    btn.classList.remove('bg-slate-900', 'text-white', 'shadow-sm', 'active');
                    btn.classList.add('text-slate-600', 'hover:text-slate-900', 'hover:bg-gray-100', 'border', 'border-gray-200', 'hover:border-gray-300');
                });
                button.classList.add('bg-slate-900', 'text-white', 'shadow-sm', 'active');
                button.classList.remove('text-slate-600', 'hover:text-slate-900', 'hover:bg-gray-100', 'border', 'border-gray-200', 'hover:border-gray-300');
                
                // Show/hide tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(targetTab + '-tab').classList.remove('hidden');
                
                // Load appropriate chart
                setTimeout(() => {
                    if (targetTab === 'forecast') {
                        loadForecastChart();
                    } else if (targetTab === 'historical') {
                        loadHistoricalChart();
                    } else if (targetTab === 'metrics') {
                        loadPerformanceChart();
                    }
                }, 100);
            });
        });

        // Model selection handler
        const modelSelect = document.getElementById('modelSelect');
        const modelTypeDisplay = document.getElementById('model-type-display');
        const modelDescription = document.getElementById('model-description');

        modelSelect.addEventListener('change', (e) => {
            const selectedModel = e.target.value;
            updateModelDisplay(selectedModel);
            setTimeout(() => loadForecastChart(), 100);
        });

        function updateModelDisplay(model) {
            const modelInfo = {
                'lstm': {
                    name: 'LSTM Neural Network',
                    description: 'Advanced deep learning model'
                },
                'transformer': {
                    name: 'Transformer Model',
                    description: 'Attention-based neural network'
                },
                'combined': {
                    name: 'Ensemble Model',
                    description: 'Combined indicators'
                }
            };
            
            if (modelTypeDisplay && modelDescription) {
                modelTypeDisplay.textContent = modelInfo[model].name;
                modelDescription.textContent = modelInfo[model].description;
            }
        }

        // Search functionality
        const sidebarSearch = document.getElementById('sidebarSearch');
        const sidebarSearchResults = document.getElementById('sidebarSearchResults');

        let searchTimeout;
        sidebarSearch.addEventListener('input', (e) => {
            const query = e.target.value.trim();
            
            clearTimeout(searchTimeout);
            
            if (query.length > 1) {
                searchTimeout = setTimeout(() => {
                    showSidebarSearchResults(query);
                }, 300);
            } else {
                sidebarSearchResults.classList.add('hidden');
            }
        });

        function showSidebarSearchResults(query) {
            const mockResults = [
                'AAPL - Apple Inc.',
                'MSFT - Microsoft Corp.',
                'GOOGL - Alphabet Inc.',
                'NVDA - NVIDIA Corp.',
                'TSLA - Tesla Inc.',
                'META - Meta Platforms',
                'AMZN - Amazon.com',
                'AMD - Advanced Micro Devices',
                'CRM - Salesforce',
                'NFLX - Netflix'
            ];
            
            const filteredResults = mockResults.filter(result => 
                result.toLowerCase().includes(query.toLowerCase())
            ).slice(0, 5);
            
            if (filteredResults.length > 0) {
                sidebarSearchResults.innerHTML = filteredResults.map(result => 
                    `<div class="p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 text-slate-900 transition-all duration-300" onclick="selectStock('${result}')">
                        ${result}
                    </div>`
                ).join('');
                sidebarSearchResults.classList.remove('hidden');
            } else {
                sidebarSearchResults.classList.add('hidden');
            }
        }

        function selectStock(stock) {
            sidebarSearch.value = stock;
            sidebarSearchResults.classList.add('hidden');
            // Load selected stock data
        }

        // Chart loading functions
        function loadForecastChart() {
            const currentDate = new Date();
            const dates = [];
            const actualPrices = [];
            const predictedPrices = [];
            
            // Generate mock historical data (30 days)
            for (let i = 29; i >= 0; i--) {
                const date = new Date(currentDate);
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
                actualPrices.push(185 + Math.random() * 10 + (i * 0.1));
            }
            
            // Generate mock prediction data (7 days)
            for (let i = 1; i <= 7; i++) {
                const date = new Date(currentDate);
                date.setDate(date.getDate() + i);
                dates.push(date.toISOString().split('T')[0]);
                predictedPrices.push(190 + Math.random() * 8 + (i * 0.5));
            }
            
            const trace1 = {
                x: dates.slice(0, 30),
                y: actualPrices,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Actual Price',
                line: { color: '#0f172a', width: 3 },
                marker: { size: 6, color: '#0f172a' }
            };
            
            const trace2 = {
                x: dates.slice(29),
                y: [actualPrices[29], ...predictedPrices],
                type: 'scatter',
                mode: 'lines+markers',
                name: 'AI Prediction',
                line: { color: '#059669', width: 3, dash: 'dash' },
                marker: { size: 6, color: '#059669' }
            };
            
            const layout = {
                title: {
                    text: 'Stock Price Forecast',
                    font: { size: 20, color: '#0f172a', family: 'Inter, sans-serif' }
                },
                xaxis: {
                    title: 'Date',
                    gridcolor: '#e2e8f0',
                    tickfont: { color: '#64748b', size: 11, family: 'Inter, sans-serif' }
                },
                yaxis: {
                    title: 'Price ($)',
                    gridcolor: '#e2e8f0',
                    tickfont: { color: '#64748b', size: 11, family: 'Inter, sans-serif' }
                },
                plot_bgcolor: 'white',
                paper_bgcolor: 'white',
                font: { family: 'Inter, sans-serif' },
                margin: { t: 60, r: 40, b: 60, l: 70 },
                showlegend: true,
                legend: {
                    x: 0.02,
                    y: 0.98,
                    bgcolor: 'rgba(255,255,255,0.9)',
                    bordercolor: '#e2e8f0',
                    borderwidth: 1,
                    font: { family: 'Inter, sans-serif' }
                }
            };
            
            const config = { responsive: true, displayModeBar: false };
            Plotly.newPlot('forecastPlot', [trace1, trace2], layout, config);
        }

        function loadHistoricalChart() {
            const dates = [];
            const actualPrices = [];
            const predictedPrices = [];
            
            const currentDate = new Date();
            for (let i = 180; i >= 0; i--) {
                const date = new Date(currentDate);
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
                const basePrice = 170 + Math.sin(i * 0.1) * 20 + (i * 0.05);
                actualPrices.push(basePrice + Math.random() * 5);
                predictedPrices.push(basePrice + Math.random() * 8 - 2);
            }
            
            const trace1 = {
                x: dates,
                y: actualPrices,
                type: 'scatter',
                mode: 'lines',
                name: 'Actual Price',
                line: { color: '#059669', width: 3 }
            };
            
            const trace2 = {
                x: dates,
                y: predictedPrices,
                type: 'scatter',
                mode: 'lines',
                name: 'AI Prediction',
                line: { color: '#dc2626', width: 3 }
            };
            
            const layout = {
                title: {
                    text: 'Historical vs Predicted Performance',
                    font: { size: 20, color: '#0f172a', family: 'Inter, sans-serif' }
                },
                xaxis: {
                    title: 'Date',
                    gridcolor: '#e2e8f0',
                    tickfont: { color: '#64748b', size: 11, family: 'Inter, sans-serif' }
                },
                yaxis: {
                    title: 'Price ($)',
                    gridcolor: '#e2e8f0',
                    tickfont: { color: '#64748b', size: 11, family: 'Inter, sans-serif' }
                },
                plot_bgcolor: 'white',
                paper_bgcolor: 'white',
                font: { family: 'Inter, sans-serif' },
                margin: { t: 60, r: 40, b: 60, l: 70 },
                showlegend: true,
                legend: {
                    x: 0.02,
                    y: 0.98,
                    bgcolor: 'rgba(255,255,255,0.9)',
                    bordercolor: '#e2e8f0',
                    borderwidth: 1,
                    font: { family: 'Inter, sans-serif' }
                }
            };
            
            const config = { responsive: true, displayModeBar: false };
            Plotly.newPlot('historicalPlot', [trace1, trace2], layout, config);
        }

        function loadPerformanceChart() {
            const dates = [];
            const accuracy = [];
            const rmse = [];
            
            const currentDate = new Date();
            for (let i = 29; i >= 0; i--) {
                const date = new Date(currentDate);
                date.setDate(date.getDate() - i);
                dates.push(date.toISOString().split('T')[0]);
                accuracy.push(85 + Math.random() * 10);
                rmse.push(1.5 + Math.random() * 1.5);
            }
            
            const trace1 = {
                x: dates,
                y: accuracy,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Accuracy (%)',
                line: { color: '#059669', width: 3 },
                marker: { size: 6, color: '#059669' },
                yaxis: 'y'
            };
            
            const trace2 = {
                x: dates,
                y: rmse,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'RMSE',
                line: { color: '#dc2626', width: 3 },
                marker: { size: 6, color: '#dc2626' },
                yaxis: 'y2'
            };
            
            const layout = {
                title: {
                    text: 'Model Performance Metrics',
                    font: { size: 20, color: '#0f172a', family: 'Inter, sans-serif' }
                },
                xaxis: {
                    title: 'Date',
                    gridcolor: '#e2e8f0',
                    tickfont: { color: '#64748b', size: 11, family: 'Inter, sans-serif' }
                },
                yaxis: {
                    title: 'Accuracy (%)',
                    side: 'left',
                    gridcolor: '#e2e8f0',
                    tickfont: { color: '#64748b', size: 11, family: 'Inter, sans-serif' }
                },
                yaxis2: {
                    title: 'RMSE',
                    side: 'right',
                    overlaying: 'y',
                    tickfont: { color: '#64748b', size: 11, family: 'Inter, sans-serif' }
                },
                plot_bgcolor: 'white',
                paper_bgcolor: 'white',
                font: { family: 'Inter, sans-serif' },
                margin: { t: 60, r: 70, b: 60, l: 70 },
                showlegend: true,
                legend: {
                    x: 0.02,
                    y: 0.98,
                    bgcolor: 'rgba(255,255,255,0.9)',
                    bordercolor: '#e2e8f0',
                    borderwidth: 1,
                    font: { family: 'Inter, sans-serif' }
                }
            };
            
            const config = { responsive: true, displayModeBar: false };
            Plotly.newPlot('performanceChart', [trace1, trace2], layout, config);
        }

        // Stock item click handlers
        document.addEventListener('click', function(e) {
            if (e.target.closest('.stock-item')) {
                const stockItem = e.target.closest('.stock-item');
                const symbol = stockItem.querySelector('.font-bold').textContent;
                console.log('Selected stock:', symbol);
                // Add visual feedback
                stockItem.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    stockItem.style.transform = '';
                }, 150);
            }
        });

        // Hide search results when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('#sidebarSearch') && !e.target.closest('#sidebarSearchResults')) {
                sidebarSearchResults.classList.add('hidden');
            }
        });

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            updateModelDisplay('lstm');
            setTimeout(() => loadForecastChart(), 100);
        });

        // Time range and ranking selectors
        const timeRangeSelect = document.getElementById('timeRangeSelect');
        const rankingPeriod = document.getElementById('rankingPeriod');
        const rankingSize = document.getElementById('rankingSize');
        
        if (timeRangeSelect) {
            timeRangeSelect.addEventListener('change', () => {
                setTimeout(() => loadHistoricalChart(), 100);
            });
        }
        
        if (rankingPeriod) {
            rankingPeriod.addEventListener('change', updateRankings);
        }
        
        if (rankingSize) {
            rankingSize.addEventListener('change', updateRankings);
        }
        
        function updateRankings() {
            console.log('Rankings updated for:', rankingPeriod?.value, rankingSize?.value);
        }
    </script>
</body>
</html>